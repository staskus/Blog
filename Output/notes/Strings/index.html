<!DOCTYPE html><html lang="en"><head><title>Povilas Staškus - Senior iOS Engineer @Automattic</title><meta name="twitter:title" content="Povilas Staškus - Senior iOS Engineer @Automattic"/><meta name="og:title" content="Povilas Staškus - Senior iOS Engineer @Automattic"/><meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/pure-min.css" integrity="sha384-oAOxQR6DkCoMliIh8yFnu25d7Eq/PHS21PClpwjOTeU2jRSq11vu66rf90/cZr47" crossorigin="anonymous"/><link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/grids-responsive-min.css"/><link rel="stylesheet" href="/Pure/styles.css"/><link rel="stylesheet" href="/all.css"/></head><body><div id="layout" class="pure-g"><div><div class="pure-menu pure-menu-horizontal pure-u-1-1 top-header"><a class="pure-menu-heading" href="/">staskus.io</a><ul class="pure-menu-list"><li class="pure-menu-item"><a class="pure-menu-link" href="/about">About</a></li><li class="pure-menu-item"><a class="pure-menu-link" href="/archive">Archive</a></li><li class="pure-menu-item"><a class="pure-menu-link" href="/afterWork">After work</a></li></ul></div></div><div class="sidebar pure-u-1 pure-u-md-1-4"><div class="header"><div id="layout" class="pure-g"><div class="author__avatar"><img src="https://avatars0.githubusercontent.com/u/4062343?s=460&v=4"/></div><div class="pure-u-md-1-1 pure-u-3-4"><h1 class="brand-title">Povilas Staškus</h1><h3 class="brand-tagline">Senior iOS Engineer @Automattic</h3></div></div><div id="layout" class="pure-g"><div class="pure-u-md-1-1"><a href="https://en.wikipedia.org/wiki/Vilnius"><i class="fas fa-map-marker-alt l-box social-icon"></i><a class="social-media" href="https://en.wikipedia.org/wiki/Vilnius">Vilnius, Lithuania</a></a></div><div class="pure-u-md-1-1"><a href="mailto:povilas@staskus.io"><i class="fas fa-envelope-open-text l-box social-icon"></i><a class="social-media" href="mailto:povilas@staskus.io">Email</a></a></div><div class="pure-u-md-1-1"><a href="https://www.linkedin.com/in/povilas-staškus-6b10528b"><i class="fab fa-linkedin l-box social-icon"></i><a class="social-media" href="https://www.linkedin.com/in/povilas-staškus-6b10528b">LinkedIn</a></a></div><div class="pure-u-md-1-1"><a href="https://github.com/staskus"><i class="fab fa-github-square l-box social-icon"></i><a class="social-media" href="https://github.com/staskus">GitHub</a></a></div><div class="pure-u-md-1-1"><a href="https://twitter.com/PovilasStaskus"><i class="fab fa-twitter-square l-box social-icon"></i><a class="social-media" href="https://twitter.com/PovilasStaskus">Twitter</a></a></div></div></div></div><div class="content pure-u-1 pure-u-md-3-5 pure-u-xl-6-10"><h2 class="post-title"><a href="/notes/Strings">String manipulation</a></h2><p class="post-meta">Last modified: 2022 April 8</p><div class="post-description"><div><h2>Example problem</h2><h3>Longest Substring Without Repeating Characters</h3><p>The <strong>sliding window</strong> approach is most intuitive. We should aim for O(n) time complexity and constant space complexity if the charset is made only from ASCII characters.</p><ol><li>Remember used letters</li><li>When the right side of the window encounters the letter that is already used, move the left side of the window to the position after the first occurrence of that letter</li><li>The longest substring is the largest distance between the left and the right side of the windows</li></ol><h3>Longest Repeating Character Replacement</h3><p>What is the longest substring with repeating letters, allowing <em>k</em> replacements.</p><p>To solve the problem we need to think about <em>k</em> replacements as <em>allowed mistakes</em> inside a string.</p><p>We can use the same <strong>sliding window</strong> approach. However, we increase <em>start index</em> when there are more mistakes than allowed.</p><pre><code><span class="keyword">func</span> characterReplacement(<span class="keyword">_</span> s: <span class="type">String</span>, <span class="keyword">_</span> k: <span class="type">Int</span>) -&gt; <span class="type">Int</span> {
    <span class="keyword">var</span> startIndex = <span class="number">0</span>
    <span class="keyword">var</span> letters = <span class="type">Array</span>(s)
    <span class="keyword">var</span> letterCount = <span class="type">Array</span>(repeating: <span class="number">0</span>, count: <span class="number">26</span>)
    <span class="keyword">var</span> longestSubstring = <span class="number">0</span>
    <span class="keyword">var</span> maxCount = <span class="number">0</span>
            
    <span class="keyword">for</span> (index, letter) <span class="keyword">in</span> letters.<span class="call">enumerated</span>() {    
        maxCount = <span class="call">max</span>(maxCount, (letterCount[<span class="call">position</span>(for: letter)] + <span class="number">1</span>))
        letterCount[<span class="call">position</span>(for: letter)] += <span class="number">1</span>
        
        <span class="keyword">while</span> mistakes(from: startIndex, to: index, max: maxCount) &gt; <span class="call">k</span> {
            letterCount[<span class="call">position</span>(for: letters[startIndex])] -= <span class="number">1</span>
            startIndex += <span class="number">1</span>
        }
                    
        longestSubstring = <span class="call">max</span>(longestSubstring, index - startIndex + <span class="number">1</span>)
    }
    
    <span class="keyword">return</span> longestSubstring
}

<span class="keyword">private func</span> mistakes(from startIndex: <span class="type">Int</span>, to endIndex: <span class="type">Int</span>, max: <span class="type">Int</span>) -&gt; <span class="type">Int</span> {
    <span class="keyword">return</span> endIndex - startIndex + <span class="number">1</span> - max
}
    
<span class="keyword">private func</span> position(for letter: <span class="type">Character</span>) -&gt; <span class="type">Int</span> {
    <span class="keyword">return</span> <span class="type">Int</span>(letter.<span class="property">asciiValue</span>! - <span class="type">Character</span>(<span class="string">"A"</span>).<span class="property">asciiValue</span>!)
}
</code></pre></div></div></div><div class="footer pure-u-1"><div class="pure-u-1">© 2022 Povilas Staškus</div><div class="pure-u-1">Generated using <a href="https://github.com/johnsundell/publish">Publish</a></div><div class="pure-u-1"><a href="/feed.rss">RSS feed</a></div></div></div></body></html>