<!DOCTYPE html><html lang="en"><head><title>Povilas Staškus - iOS Developer</title><meta name="twitter:title" content="Povilas Staškus - iOS Developer"/><meta name="og:title" content="Povilas Staškus - iOS Developer"/><meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/pure-min.css" integrity="sha384-oAOxQR6DkCoMliIh8yFnu25d7Eq/PHS21PClpwjOTeU2jRSq11vu66rf90/cZr47" crossorigin="anonymous"/><link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/grids-responsive-min.css"/><link rel="stylesheet" href="/Pure/styles.css"/><link rel="stylesheet" href="/all.css"/></head><body><div id="layout" class="pure-g"><div><div class="pure-menu pure-menu-horizontal pure-u-1-1 top-header"><a class="pure-menu-heading" href="/">staskus.io</a><ul class="pure-menu-list"><li class="pure-menu-item"><a class="pure-menu-link" href="/about">About</a></li><li class="pure-menu-item"><a class="pure-menu-link" href="/notes">Notes</a></li><li class="pure-menu-item"><a class="pure-menu-link" href="/afterWork">After work</a></li></ul></div></div><div class="sidebar pure-u-1 pure-u-md-1-4"><div class="header"><div id="layout" class="pure-g"><div class="author__avatar"><img src="https://avatars0.githubusercontent.com/u/4062343?s=460&v=4"/></div><div class="pure-u-md-1-1 pure-u-3-4"><h1 class="brand-title">Povilas Staškus</h1><h3 class="brand-tagline">iOS Developer</h3></div></div><div id="layout" class="pure-g"><div class="pure-u-md-1-1"><a href="https://en.wikipedia.org/wiki/Vilnius"><i class="fas fa-map-marker-alt l-box social-icon"></i><a class="social-media" href="https://en.wikipedia.org/wiki/Vilnius">Vilnius, Lithuania</a></a></div><div class="pure-u-md-1-1"><a href="mailto:povilas@staskus.io"><i class="fas fa-envelope-open-text l-box social-icon"></i><a class="social-media" href="mailto:povilas@staskus.io">Email</a></a></div><div class="pure-u-md-1-1"><a href="https://www.linkedin.com/in/povilas-staškus-6b10528b"><i class="fab fa-linkedin l-box social-icon"></i><a class="social-media" href="https://www.linkedin.com/in/povilas-staškus-6b10528b">LinkedIn</a></a></div><div class="pure-u-md-1-1"><a href="https://github.com/staskus"><i class="fab fa-github-square l-box social-icon"></i><a class="social-media" href="https://github.com/staskus">GitHub</a></a></div><div class="pure-u-md-1-1"><a href="https://twitter.com/PovilasStaskus"><i class="fab fa-twitter-square l-box social-icon"></i><a class="social-media" href="https://twitter.com/PovilasStaskus">Twitter</a></a></div></div></div></div><div class="content pure-u-1 pure-u-md-3-5 pure-u-xl-6-10"><h2 class="post-title"><a href="/notes/Bit Manipulation">Bit Manipulation</a></h2><p class="post-meta">Last modified: 2022 March 30</p><div class="post-description"><div><pre><code><span class="type">X</span> ^ 0s = <span class="type">X 
X</span> &amp; 0s = <span class="number">0</span> 
<span class="type">X</span> | 0s = <span class="type">X 

X</span> ^ 1s = !x 
<span class="type">X</span> &amp; 1s = <span class="type">X 
X</span> | 1s = 1s 

<span class="type">X</span> ^ <span class="type">X</span> = <span class="number">0</span> 
<span class="type">X</span> &amp; <span class="type">X</span> = <span class="type">X 
X</span> | <span class="type">X</span> = <span class="type">X</span>
</code></pre><p><strong>Logical Shift</strong> - we shift the bits and put 0 in the most significant bit. <strong>Arithmetic Shift</strong> - we shift values to the right but fill new bits with the values of the sign bit. Essentially meaning division by 2.</p><h2>Example Tasks</h2><h3>Get Bit</h3><pre><code><span class="keyword">func</span> getBit(num: <span class="type">Int</span>, position: <span class="type">Int</span>) -&gt; <span class="type">Bool</span> {
    <span class="keyword">return</span> (num &amp; (<span class="number">1</span> &lt;&lt; position)) != <span class="number">0</span>
}

<span class="call">getBit</span>(num: <span class="number">5</span>, position: <span class="number">2</span>) <span class="comment">// 0101 &amp; 0100 = 0100 != 0</span>
<span class="call">getBit</span>(num: <span class="number">5</span>, position: <span class="number">1</span>) <span class="comment">// 0101 &amp; 0010 = 0000 == 0</span>
</code></pre><h3>What does code (n &amp; n-1) == 0 do?</h3><p>This logic checks if n is a power of 2 (or if n is 0)</p><h3>Write a function to determine the number of bits you need to flip to convert integer A to integer B</h3><pre><code><span class="keyword">func</span> bitSwapsRequired(<span class="keyword">_</span> a: <span class="type">Int</span>, <span class="keyword">_</span> b: <span class="type">Int</span>) -&gt; <span class="type">Int</span> {
    <span class="keyword">var</span> count = <span class="number">0</span>

    <span class="keyword">var</span> i = a ^ b

    <span class="keyword">while</span> i != <span class="number">0</span> {
        count += <span class="number">1</span>
        i = i &amp; (i - <span class="number">1</span>)
    }

    <span class="keyword">return</span> count
}

<span class="call">print</span>(<span class="call">bitSwapsRequired</span>(<span class="number">29</span>, <span class="number">15</span>)) <span class="comment">// 2</span>
</code></pre></div></div></div><div class="footer pure-u-1"><div class="pure-u-1">© 2022 Povilas Staškus</div><div class="pure-u-1">Generated using <a href="https://github.com/johnsundell/publish">Publish</a></div><div class="pure-u-1"><a href="/feed.rss">RSS feed</a></div></div></div></body></html>